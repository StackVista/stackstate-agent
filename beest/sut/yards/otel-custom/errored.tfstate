{
  "version": 4,
  "terraform_version": "1.0.11",
  "serial": 43,
  "lineage": "bc4c80a6-cccd-817e-2c04-e86c266cad65",
  "outputs": {
    "api_url": {
      "value": "https://xh2s3nmzl3.execute-api.eu-west-1.amazonaws.com/",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "local_file",
      "name": "agent_id_rsa",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "-----BEGIN RSA PRIVATE KEY-----\n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\n-----END RSA PRIVATE KEY-----\n",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0600",
            "filename": "/go/src/app/sut/yards/otel-custom/agent_id_rsa",
            "id": "9e6f8c0f5acd4ba2d9fe21b7a077ccd1b22b5981",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ec2_agent.tls_private_key.rsa_key"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "ansible_inventory",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": []
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "672574731473",
            "arn": "arn:aws:sts::672574731473:assumed-role/Administrator/aws-go-sdk-1657539140925555401",
            "id": "672574731473",
            "user_id": "AROAZZGET6TI73ZSJQKFO:aws-go-sdk-1657539140925555401"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "integration_assume_role_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "data",
      "type": "aws_iam_role",
      "name": "integration_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "managed",
      "type": "aws_cloudformation_stack",
      "name": "cfn_stackpack",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "status": "tainted",
          "schema_version": 0,
          "attributes": {
            "capabilities": [
              "CAPABILITY_NAMED_IAM"
            ],
            "disable_rollback": null,
            "iam_role_arn": null,
            "id": "arn:aws:cloudformation:eu-west-1:672574731473:stack/beest-stac-16209-otel-cu-otel-cfn-aws-check/34905430-010d-11ed-b9c5-06e875e9841b",
            "name": "beest-stac-16209-otel-cu-otel-cfn-aws-check",
            "notification_arns": null,
            "on_failure": "DELETE",
            "outputs": null,
            "parameters": {
              "ExternalId": "beest-stac-16209-otel-cu-otel",
              "IncludeOpenTelemetryTracing": "true",
              "MainRegion": "eu-west-1",
              "PostFix": "-26002",
              "StsAccountId": "672574731473"
            },
            "policy_body": null,
            "policy_url": null,
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "VantaContainsUserData": "false",
              "VantaDescription": "AWS Integration resources used in acceptance pipeline",
              "VantaNonProd": "true",
              "VantaOwner": "beest@stackstate.com",
              "VantaUserDataStored": "NA"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "VantaContainsUserData": "false",
              "VantaDescription": "AWS Integration resources used in acceptance pipeline",
              "VantaNonProd": "true",
              "VantaOwner": "beest@stackstate.com",
              "VantaUserDataStored": "NA"
            },
            "template_body": "AWSTemplateFormatVersion: \"2010-09-09\"\nDescription: \u003e\n  Main CloudFormation template to be placed in every account which need to be monitored.\n  This template will capture information for one region, ensure it has been deployed in each region which you want to monitor.\n\nMetadata:\n  AWS::CloudFormation::Interface:\n    ParameterGroups:\n      - Label:\n          default: Agent Access\n        Parameters:\n          - StsAccountId\n          - MainRegion\n          - ExternalId\n      - Label:\n          default: Open Telemetry\n        Parameters:\n          - IncludeOpenTelemetryTracing\n      - Label:\n          default: Others\n        Parameters:\n          - PostFix\n    ParameterLabels:\n      StsAccountId:\n        default: Account IDs\n      MainRegion:\n        default: Region\n      ExternalId:\n        default: External ID\n      IncludeOpenTelemetryTracing:\n        default: Tracing\n      PostFix:\n        default: Post fix\n\nParameters:\n  StsAccountId:\n    Type: String\n    Description: Comma separated list of AWS account IDs where StackState agent and StackState platform run\n    AllowedPattern: \u003e-\n      ^([0-9]{12},?)*$\n    ConstraintDescription: Value must be a valid AWS account ID\n  ExternalId:\n    Type: String\n    Description: Secret used when assuming the integration IAM role\n    AllowedPattern: \u003e-\n      [\\w+=,.@:\\/-]{2,1224}\n    ConstraintDescription: \"The external ID provided is not valid. Allowed special characters: +=,.@:/-\"\n  MainRegion:\n    Type: String\n    Description: Primary AWS region, global resources will be deployed here\n    AllowedPattern: \u003e-\n      ^[a-z]{2}-([a-z]*-){1,2}[0-9]$\n    ConstraintDescription: Value must be a valid AWS region name\n  IncludeOpenTelemetryTracing:\n    Description: Enable OpenTelemetry Lambda Layer v0.0.7\n    Default: false\n    Type: String\n    AllowedValues: [true, false]\n  PostFix:\n    Description: Value to append to all resource names when deploying the stack multiple times in the same account (optional)\n    Default: \"\"\n    Type: String\n    AllowedPattern: \u003e-\n      ^[-\\w+]{0,20}$\n    ConstraintDescription: Value must only contain numbers, letter and hyphens\n\nConditions:\n  IsMainRegion: !Equals [!Ref MainRegion, !Ref \"AWS::Region\"]\n  ShouldIncludeOpenTelemetry:\n    !Equals [true, !Ref IncludeOpenTelemetryTracing]\n\nResources:\n  StsRole:\n    Type: AWS::IAM::Role\n    Condition: IsMainRegion\n    Properties:\n      RoleName: !Sub StackStateAwsIntegrationRole${PostFix}\n      AssumeRolePolicyDocument:\n        Version: \"2012-10-17\"\n        Statement:\n          - Effect: Allow\n            Principal:\n              AWS: !Split [\",\", !Ref StsAccountId]\n            Action:\n              - sts:AssumeRole\n            Condition:\n              StringEquals:\n                sts:ExternalId: !Ref ExternalId\n      Policies:\n        - PolicyName: STSIntegration\n          PolicyDocument:\n            Version: 2012-10-17\n            Statement:\n              - Sid: SelfAccess\n                Effect: Allow\n                Action:\n                  - cloudtrail:LookupEvents\n                  - iam:ListAccountAliases\n                Resource: \"*\"\n              - Sid: MetricsAccess\n                Effect: Allow\n                Action:\n                  - cloudwatch:GetMetricData\n                  - cloudwatch:ListMetrics\n                Resource: \"*\"\n              - Sid: EventsS3Access\n                Effect: Allow\n                Action:\n                  - s3:DeleteObject\n                  - s3:GetObject\n                  - s3:GetObjectVersion\n                  - s3:ListBucket\n                Resource:\n                  - !Sub ${StsLogsBucket.Arn}\n                  - !Sub ${StsLogsBucket.Arn}/*\n              - Sid: Ec2Access\n                Effect: Allow\n                Action:\n                  - ec2:DescribeInstances\n                  - ec2:DescribeInstanceTypes\n                  - ec2:DescribeSecurityGroups\n                  - ec2:DescribeSubnets\n                  - ec2:DescribeVpcs\n                  - ec2:DescribeVpnGateways\n                  - ec2:DescribeNetworkInterfaces\n                Resource: \"*\"\n              - Sid: LoadBalancingAccess\n                Effect: Allow\n                Action:\n                  - elasticloadbalancing:DescribeInstanceHealth\n                  - elasticloadbalancing:DescribeListeners\n                  - elasticloadbalancing:DescribeLoadBalancers\n                  - elasticloadbalancing:DescribeTags\n                  - elasticloadbalancing:DescribeTargetGroups\n                  - elasticloadbalancing:DescribeTargetHealth\n                Resource: \"*\"\n              - Sid: AutoScalingAccess\n                Effect: Allow\n                Action:\n                  - autoscaling:DescribeAutoScalingGroups\n                Resource: \"*\"\n              - Sid: RedshiftAccess\n                Effect: Allow\n                Action:\n                  - redshift:DescribeClusters\n                Resource: \"*\"\n              - Sid: EcsAccess\n                Effect: Allow\n                Action:\n                  - ecs:DescribeClusters\n                  - ecs:DescribeContainerInstances\n                  - ecs:DescribeServices\n                  - ecs:DescribeTasks\n                  - ecs:ListClusters\n                  - ecs:ListContainerInstances\n                  - ecs:ListServices\n                  - ecs:ListTasks\n                Resource: \"*\"\n              - Sid: ServiceDiscoveryAccess\n                Effect: Allow\n                Action:\n                  - servicediscovery:GetNamespace\n                  - servicediscovery:GetService\n                  - servicediscovery:ListInstances\n                  - servicediscovery:ListServices\n                Resource: \"*\"\n              - Sid: FirehoseAccess\n                Effect: Allow\n                Action:\n                  - firehose:DescribeDeliveryStream\n                  - firehose:ListDeliveryStreams\n                  - firehose:ListTagsForDeliveryStream\n                Resource: \"*\"\n              - Sid: S3Access\n                Effect: Allow\n                Action:\n                  - s3:GetBucketNotification\n                  - s3:GetBucketTagging\n                  - s3:ListAllMyBuckets\n                  - s3:ListBucket\n                  - s3:GetBucketVersioning\n                Resource: \"*\"\n              - Sid: RdsAccess\n                Effect: Allow\n                Action:\n                  - rds:DescribeDBClusters\n                  - rds:DescribeDBInstances\n                Resource: \"*\"\n              - Sid: Route53Access\n                Effect: Allow\n                Action:\n                  - route53:GetHostedZone\n                  - route53:ListHostedZones\n                  - route53:ListResourceRecordSets\n                  - route53:ListTagsForResource\n                  - route53domains:GetDomainDetail\n                  - route53domains:ListDomains\n                  - route53domains:ListTagsForDomain\n                Resource: \"*\"\n              - Sid: LambdaAccess\n                Effect: Allow\n                Action:\n                  - lambda:GetFunction\n                  - lambda:ListAliases\n                  - lambda:ListEventSourceMappings\n                  - lambda:ListFunctions\n                  - lambda:ListTags\n                Resource: \"*\"\n              - Sid: SnsAccess\n                Effect: Allow\n                Action:\n                  - sns:GetTopicAttributes\n                  - sns:ListSubscriptionsByTopic\n                  - sns:ListTagsForResource\n                  - sns:ListTopics\n                Resource: \"*\"\n              - Sid: SqsAccess\n                Effect: Allow\n                Action:\n                  - sqs:GetQueueAttributes\n                  - sqs:ListQueues\n                  - sqs:ListQueueTags\n                Resource: \"*\"\n              - Sid: DynamoDbAccess\n                Effect: Allow\n                Action:\n                  - dynamodb:DescribeTable\n                  - dynamodb:ListTables\n                  - dynamodb:ListTagsOfResource\n                Resource: \"*\"\n              - Sid: KinesisAccess\n                Effect: Allow\n                Action:\n                  - kinesis:DescribeStreamSummary\n                  - kinesis:ListStreams\n                  - kinesis:ListTagsForStream\n                Resource: \"*\"\n              - Sid: ApiGatewayAccess\n                Effect: Allow\n                Action:\n                  - apigateway:GET\n                Resource: \"*\"\n              - Sid: CloudFormationAccess\n                Effect: Allow\n                Action:\n                  - cloudformation:DescribeStackResources\n                  - cloudformation:DescribeStacks\n                Resource: \"*\"\n              - Sid: StepFunctionsAccess\n                Effect: Allow\n                Action:\n                  - states:DescribeStateMachine\n                  - states:ListActivities\n                  - states:ListStateMachines\n                  - states:ListTagsForResource\n                Resource: \"*\"\n\n  StsKmsKey:\n    Type: AWS::KMS::Key\n    Condition: IsMainRegion\n    Properties:\n      Description: StackState Integration Key\n      Enabled: true\n      EnableKeyRotation: true\n      KeyPolicy:\n        Version: 2012-10-17\n        Id: default\n        Statement:\n          - Sid: AllowKeyAdministration\n            Effect: Allow\n            Principal:\n              AWS:\n                - !Sub arn:aws:iam::${AWS::AccountId}:root\n            Action:\n              - kms:Create*\n              - kms:Describe*\n              - kms:Enable*\n              - kms:List*\n              - kms:Put*\n              - kms:Update*\n              - kms:Revoke*\n              - kms:Disable*\n              - kms:Get*\n              - kms:Delete*\n              - kms:TagResource\n              - kms:UntagResource\n              - kms:ScheduleKeyDeletion\n              - kms:CancelKeyDeletion\n            Resource: \"*\"\n          - Sid: AllowS3Access\n            Effect: Allow\n            Principal:\n              AWS: \"*\"\n            Action:\n              - kms:Decrypt\n              - kms:DescribeKey\n              - kms:Encrypt\n              - kms:GenerateDataKey*\n              - kms:ReEncrypt*\n            Resource: \"*\"\n            Condition:\n              StringEquals:\n                kms:ViaService: !Sub s3.${AWS::Region}.${AWS::URLSuffix}\n          - Sid: AllowVpcFlowLogAccess\n            Effect: Allow\n            Principal:\n              Service: !Sub delivery.logs.${AWS::URLSuffix}\n            Action:\n              - kms:Decrypt\n              - kms:DescribeKey\n              - kms:Encrypt\n              - kms:GenerateDataKey*\n              - kms:ReEncrypt*\n            Resource: \"*\"\n  StsKmsKeyAlias:\n    Type: AWS::KMS::Alias\n    Condition: IsMainRegion\n    Properties:\n      AliasName: !Sub alias/stackstate-integration${PostFix}\n      TargetKeyId: !Ref StsKmsKey\n  StsLogsBucket:\n    Type: AWS::S3::Bucket\n    Condition: IsMainRegion\n    Properties:\n      BucketName: !Sub stackstate-logs-${AWS::AccountId}${PostFix}\n      BucketEncryption:\n        ServerSideEncryptionConfiguration:\n          - ServerSideEncryptionByDefault:\n              SSEAlgorithm: aws:kms\n              KMSMasterKeyID: !GetAtt StsKmsKey.Arn\n            BucketKeyEnabled: true\n      VersioningConfiguration:\n        Status: Enabled\n      OwnershipControls:\n        Rules:\n          - ObjectOwnership: BucketOwnerPreferred\n      LifecycleConfiguration:\n        Rules:\n          - Status: Enabled\n            AbortIncompleteMultipartUpload:\n              DaysAfterInitiation: 1\n            ExpirationInDays: 1\n            NoncurrentVersionExpirationInDays: 1\n      PublicAccessBlockConfiguration:\n        BlockPublicAcls: true\n        BlockPublicPolicy: true\n        IgnorePublicAcls: true\n        RestrictPublicBuckets: true\n    Metadata:\n      cfn-lint:\n        config:\n          ignore_checks:\n            - E3002 # New features BucketKeyEnabled, OwnershipControls not recognised\n  StsLogsBucketPolicy:\n    Type: AWS::S3::BucketPolicy\n    Condition: IsMainRegion\n    Properties:\n      Bucket: !Ref StsLogsBucket\n      PolicyDocument:\n        Version: \"2012-10-17\"\n        Statement:\n          - Sid: AWSLogDeliveryWrite\n            Effect: Allow\n            Principal:\n              Service: !Sub delivery.logs.${AWS::URLSuffix}\n            Action: s3:PutObject\n            Resource: !Sub ${StsLogsBucket.Arn}/AWSLogs/${AWS::AccountId}/*\n            Condition:\n              StringEquals:\n                s3:x-amz-acl: bucket-owner-full-control\n          - Sid: AWSLogDeliveryAclCheck\n            Effect: Allow\n            Principal:\n              Service: !Sub delivery.logs.${AWS::URLSuffix}\n            Action:\n              - s3:GetBucketAcl\n              - s3:ListBucket\n              - s3:GetBucketVersioning\n            Resource: !Sub ${StsLogsBucket.Arn}\n          - Sid: DisableInsecureConnections\n            Effect: Deny\n            Principal: \"*\"\n            Action: s3:*\n            Resource:\n              - !Sub ${StsLogsBucket.Arn}\n              - !Sub ${StsLogsBucket.Arn}/*\n            Condition:\n              Bool:\n                aws:SecureTransport: \"false\"\n  StsFirehoseRole:\n    Type: AWS::IAM::Role\n    Properties:\n      AssumeRolePolicyDocument:\n        Statement:\n          - Effect: Allow\n            Principal:\n              Service: !Sub firehose.${AWS::URLSuffix}\n            Action: sts:AssumeRole\n      Policies:\n        - PolicyName: default\n          PolicyDocument:\n            Statement:\n              - Effect: Allow\n                Action:\n                  - s3:AbortMultipartUpload\n                  - s3:GetBucketLocation\n                  - s3:GetObject\n                  - s3:ListBucket\n                  - s3:ListBucketMultipartUploads\n                  - s3:PutObject\n                  - s3:PutObjectAcl\n                Resource:\n                  - !Sub arn:${AWS::Partition}:s3:::stackstate-logs-${AWS::AccountId}${PostFix}/AWSLogs/${AWS::AccountId}/EventBridge/${AWS::Region}/*\n                  - !Sub arn:${AWS::Partition}:s3:::stackstate-logs-${AWS::AccountId}${PostFix}\n              - Effect: Allow\n                Action:\n                  - kms:Decrypt\n                  - kms:GenerateDataKey\n                Resource:\n                  - !Sub arn:${AWS::Partition}:kms:${MainRegion}:${AWS::AccountId}:alias/stackstate-integration${PostFix}\n                Condition:\n                  StringEquals:\n                    kms:ViaService: !Sub s3.${AWS::Region}.${AWS::URLSuffix}\n                  ArnLike:\n                    kms:EncryptionContext:aws:s3:arn: !Sub arn:${AWS::Partition}:s3:::stackstate-logs-${AWS::AccountId}${PostFix}/AWSLogs/${AWS::AccountId}/EventBridge/${AWS::Region}/*\n  StsEventBridgeFirehose:\n    Type: AWS::KinesisFirehose::DeliveryStream\n    Properties:\n      DeliveryStreamType: DirectPut\n      ExtendedS3DestinationConfiguration:\n        BucketARN: !If\n          - IsMainRegion\n          - !GetAtt StsLogsBucket.Arn\n          - !Sub arn:${AWS::Partition}:s3:::stackstate-logs-${AWS::AccountId}${PostFix}\n        RoleARN: !GetAtt StsFirehoseRole.Arn\n        CompressionFormat: GZIP\n        Prefix: !Sub AWSLogs/${AWS::AccountId}/EventBridge/${AWS::Region}/\n        ErrorOutputPrefix: !Sub AWSLogs/${AWS::AccountId}/EventBridge/${AWS::Region}/\n        BufferingHints:\n          IntervalInSeconds: 60\n          SizeInMBs: 8\n        EncryptionConfiguration:\n          KMSEncryptionConfig:\n            AWSKMSKeyARN: !Sub arn:${AWS::Partition}:kms:${MainRegion}:${AWS::AccountId}:alias/stackstate-integration${PostFix}\n  StsEventBridgeRole:\n    Type: AWS::IAM::Role\n    Properties:\n      AssumeRolePolicyDocument:\n        Statement:\n          - Effect: Allow\n            Principal:\n              Service: !Sub events.${AWS::URLSuffix}\n            Action: sts:AssumeRole\n      Policies:\n        - PolicyName: default\n          PolicyDocument:\n            Statement:\n              - Effect: Allow\n                Action:\n                  - firehose:PutRecord\n                  - firehose:PutRecordBatch\n                Resource:\n                  - !GetAtt StsEventBridgeFirehose.Arn\n  StsEventBridgeRule:\n    Type: AWS::Events::Rule\n    Properties:\n      EventPattern:\n        source:\n          - aws.apigateway\n          - aws.application-autoscaling\n          - aws.dynamodb\n          - aws.ec2\n          - aws.ecs\n          - aws.elasticloadbalancing\n          - aws.firehose\n          - aws.kinesis\n          - aws.lambda\n          - aws.rds\n          - aws.redshift\n          - aws.s3\n          - aws.sqs\n          - aws.states\n        detail-type:\n          - \"EC2 Instance State-change Notification\"\n          - \"AWS API Call via CloudTrail\"\n      Targets:\n        - Id: StsEventBridgeFirehose\n          Arn: !GetAtt StsEventBridgeFirehose.Arn\n          RoleArn: !GetAtt StsEventBridgeRole.Arn\n  StsOpenTelemetryLayer:\n    Type: AWS::Lambda::LayerVersion\n    Condition: ShouldIncludeOpenTelemetry\n    Properties:\n      Description: v0.0.7 - StackState OpenTelemetry NodeJS Lambda Layer\n      CompatibleRuntimes:\n        - nodejs14.x\n      Content:\n        S3Bucket: stackstate-integration-otel\n        S3Key: otel-nodejs-0.0.7.zip\n      LayerName: stackstate-otel-nodejs\n\nOutputs:\n  StackStateKmsKeyArn:\n    Value: !If\n      - IsMainRegion\n      - !GetAtt StsKmsKey.Arn\n      - !Sub arn:${AWS::Partition}:kms:${MainRegion}:${AWS::AccountId}:alias/stackstate-integration${PostFix}\n    Export:\n      Name: !Sub ${AWS::StackName}-StackStateKmsKeyArn\n  StackStateLogsBucketArn:\n    Value: !Sub arn:${AWS::Partition}:s3:::stackstate-logs-${AWS::AccountId}${PostFix}\n    Export:\n      Name: !Sub ${AWS::StackName}-StackStateLogsBucketArn\n  StackStateIntegrationRole:\n    Value: !Ref StsRole\n    Export:\n      Name: !Sub ${AWS::StackName}-StackStateIntegrationRole\n",
            "template_url": null,
            "timeout_in_minutes": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.aws_stackpack_role.data.aws_caller_identity.current",
            "module.aws_stackpack_role.random_integer.cnf_postfix"
          ]
        }
      ]
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "managed",
      "type": "aws_iam_access_key",
      "name": "integration_user_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_date": "2022-07-11T11:32:55Z",
            "encrypted_secret": null,
            "encrypted_ses_smtp_password_v4": null,
            "id": "AKIAZZGET6TIT4NZIB4D",
            "key_fingerprint": null,
            "pgp_key": null,
            "secret": "wzbrqw2hvARAMz1DcK37b+VwAdetviB5MoFf+MYu",
            "ses_smtp_password_v4": "BIPqgyxrasNyxeDWXkQQ6ow1APliOoLXNnA95dhKPZ7Q",
            "status": "Active",
            "user": "beest-stac-16209-otel-cu-otel-integration-user"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.aws_stackpack_role.aws_iam_user.integration_user"
          ]
        }
      ]
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "integrations_profile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::672574731473:instance-profile/beest-stac-16209-otel-cu-otel-instance-profile",
            "create_date": "2022-07-11T11:32:56Z",
            "id": "beest-stac-16209-otel-cu-otel-instance-profile",
            "name": "beest-stac-16209-otel-cu-otel-instance-profile",
            "name_prefix": null,
            "path": "/",
            "role": "beest-stac-16209-otel-cu-otel-agent-ec2-role",
            "tags": null,
            "tags_all": {},
            "unique_id": "AIPAZZGET6TIYS6UW26HZ"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.aws_stackpack_role.aws_iam_role.agent_ec2_role"
          ]
        }
      ]
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "agent_ec2_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::672574731473:role/beest-stac-16209-otel-cu-otel-agent-ec2-role",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-07-11T11:32:54Z",
            "description": "",
            "force_detach_policies": false,
            "id": "beest-stac-16209-otel-cu-otel-agent-ec2-role",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "beest-stac-16209-otel-cu-otel-agent-ec2-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAZZGET6TIR46SHVBFP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "test_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "managed",
      "type": "aws_iam_user",
      "name": "integration_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::672574731473:user/beest-stac-16209-otel-cu-otel-integration-user",
            "force_destroy": false,
            "id": "beest-stac-16209-otel-cu-otel-integration-user",
            "name": "beest-stac-16209-otel-cu-otel-integration-user",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AIDAZZGET6TIYEGDYMB6S"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "managed",
      "type": "aws_iam_user_policy",
      "name": "integration_user_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.aws_stackpack_role",
      "mode": "managed",
      "type": "random_integer",
      "name": "cnf_postfix",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "26002",
            "keepers": null,
            "max": 100000,
            "min": 1,
            "result": 26002,
            "seed": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.ec2_agent",
      "mode": "data",
      "type": "aws_ami",
      "name": "ubuntu_ami",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:eu-west-1::image/ami-0141514361b6a3c1b",
            "block_device_mappings": [
              {
                "device_name": "/dev/sda1",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "0",
                  "snapshot_id": "snap-0fb9fac1d8612a1d4",
                  "throughput": "0",
                  "volume_size": "8",
                  "volume_type": "gp2"
                },
                "no_device": "",
                "virtual_name": ""
              },
              {
                "device_name": "/dev/sdb",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral0"
              },
              {
                "device_name": "/dev/sdc",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral1"
              }
            ],
            "boot_mode": "",
            "creation_date": "2022-07-07T00:49:04.000Z",
            "description": "Canonical, Ubuntu, 20.04 LTS, amd64 focal image build on 2022-07-06",
            "ena_support": true,
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-*"
                ]
              },
              {
                "name": "virtualization-type",
                "values": [
                  "hvm"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-0141514361b6a3c1b",
            "image_id": "ami-0141514361b6a3c1b",
            "image_location": "099720109477/ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-20220706",
            "image_owner_alias": null,
            "image_type": "machine",
            "kernel_id": null,
            "most_recent": true,
            "name": "ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-20220706",
            "name_regex": null,
            "owner_id": "099720109477",
            "owners": [
              "099720109477"
            ],
            "platform": null,
            "platform_details": "Linux/UNIX",
            "product_codes": [],
            "public": true,
            "ramdisk_id": null,
            "root_device_name": "/dev/sda1",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-0fb9fac1d8612a1d4",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "usage_operation": "RunInstances",
            "virtualization_type": "hvm"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.ec2_agent",
      "mode": "managed",
      "type": "aws_instance",
      "name": "agent",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "ami": "ami-0141514361b6a3c1b",
            "arn": "arn:aws:ec2:eu-west-1:672574731473:instance/i-09328f3051f4e9f0f",
            "associate_public_ip_address": true,
            "availability_zone": "eu-west-1a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_core_count": 1,
            "cpu_threads_per_core": 2,
            "credit_specification": [
              {
                "cpu_credits": "unlimited"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "beest-stac-16209-otel-cu-otel-instance-profile",
            "id": "i-09328f3051f4e9f0f",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_state": "running",
            "instance_type": "t3.small",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "beest-stac-16209-otel-cu-otel-agent-key",
            "launch_template": [],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_partition_number": null,
            "primary_network_interface_id": "eni-07aecf16c179a2855",
            "private_dns": "ip-10-11-1-99.eu-west-1.compute.internal",
            "private_ip": "10.11.1.99",
            "public_dns": "ec2-54-194-38-43.eu-west-1.compute.amazonaws.com",
            "public_ip": "54.194.38.43",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": true,
                "iops": 100,
                "kms_key_id": "arn:aws:kms:eu-west-1:672574731473:key/650600ea-3b3b-4aa0-adf0-2d9dfd8cb87a",
                "tags": {},
                "throughput": 0,
                "volume_id": "vol-0266066c8387d4824",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0ae2a4f542e40ae84",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-agent",
              "VantaContainsUserData": "false",
              "VantaDescription": "Machine used used in acceptance pipeline",
              "VantaNonProd": "true",
              "VantaOwner": "beest@stackstate.com",
              "VantaUserDataStored": "NA"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-agent",
              "VantaContainsUserData": "false",
              "VantaDescription": "Machine used used in acceptance pipeline",
              "VantaNonProd": "true",
              "VantaOwner": "beest@stackstate.com",
              "VantaUserDataStored": "NA"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": null,
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-0339f2c5d5122413b"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.aws_stackpack_role.aws_iam_instance_profile.integrations_profile",
            "module.aws_stackpack_role.aws_iam_role.agent_ec2_role",
            "module.ec2_agent.aws_key_pair.agent_key_pair",
            "module.ec2_agent.aws_security_group.agent_group",
            "module.ec2_agent.data.aws_ami.ubuntu_ami",
            "module.ec2_agent.tls_private_key.rsa_key",
            "module.vpc.aws_subnet.eks_private",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.ec2_agent",
      "mode": "managed",
      "type": "aws_key_pair",
      "name": "agent_key_pair",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:key-pair/beest-stac-16209-otel-cu-otel-agent-key",
            "fingerprint": "aa:6d:95:58:11:61:17:62:09:dc:d7:98:21:e0:69:6d",
            "id": "beest-stac-16209-otel-cu-otel-agent-key",
            "key_name": "beest-stac-16209-otel-cu-otel-agent-key",
            "key_name_prefix": "",
            "key_pair_id": "key-0c691332e9469fea4",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCsGYoUMqx88QIr5F4pD5Vpsc9aYwNvLW/dpimQcnGffXR+L3WMhxLyBXInshapVnSX7GFXVqK45GVf7Qq3UT40gH9Q2Oqu1XyyJZYQ88KCskURDTrkH4QxyoPxX2U0kJel6REgOzmd41JVxwPHvziHH/MaBCU0P0YwvvSRIF5XfCUA4bcxgoGbO3+2wqB23h7xA7XxtCfJe9AafFaKVL05nD9gjPO7H0nSstS1ewV+AlqxgMV1TkGD7zwyZ7b2UiBpz6SOYv8VV785Q90cO6guZU3q1VdD2ZbCsy/C84OPcbPEKFBWZsb35hbEY2PLv5kGbEsTPLBGgywb6M7NcdqRVQHnwZ4nTdWcmP4ijjOHJkASeCCWCoigJ/xt4YDSpbzyuTtQJ7lxMk5biSeGXH1tphCTqB/6tHAS4K7qbaRM1/pQmSk8od5LiSFoEaHBVXwuVCrXuXZqmpoCK3nYtBU9T2beQrBaTZpXUU72Ik3rkkn7zD9OZpIqE1QBQS+z242UUYGKU3RDnSCxmo0G/icsd7nml7xKSNMYYJbJ2Pyod7/Bu2EZuQ5/4Ri0wEZm/PBhfLXNqAEMAg4O+ff+eacFuISpzwKMU3HPKbzEQtIrwb3FQpedjcPO/ftL8uDDWM1ocVZuhtGgFhbHrc7Y4JkfrNBlvagRSzPVmKidPc7TOw==",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel"
            }
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.ec2_agent.tls_private_key.rsa_key"
          ]
        }
      ]
    },
    {
      "module": "module.ec2_agent",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "agent_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:security-group/sg-0339f2c5d5122413b",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0339f2c5d5122413b",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Ping",
                "from_port": 8,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "icmp",
                "security_groups": [],
                "self": false,
                "to_port": 0
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "SSH",
                "from_port": 22,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              }
            ],
            "name": "beest-stac-16209-otel-cu-otel-agent-sg",
            "name_prefix": "",
            "owner_id": "672574731473",
            "revoke_rules_on_delete": false,
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel"
            },
            "timeouts": null,
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.ec2_agent",
      "mode": "managed",
      "type": "tls_private_key",
      "name": "rsa_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "algorithm": "RSA",
            "ecdsa_curve": "P224",
            "id": "c805aba90be8f5fd0c626885553d88a82ee8b3bf",
            "private_key_pem": "-----BEGIN RSA PRIVATE KEY-----\n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\n-----END RSA PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "5c:08:15:14:0d:01:dc:2d:fb:75:d5:ef:85:f4:49:7f",
            "public_key_openssh": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCsGYoUMqx88QIr5F4pD5Vpsc9aYwNvLW/dpimQcnGffXR+L3WMhxLyBXInshapVnSX7GFXVqK45GVf7Qq3UT40gH9Q2Oqu1XyyJZYQ88KCskURDTrkH4QxyoPxX2U0kJel6REgOzmd41JVxwPHvziHH/MaBCU0P0YwvvSRIF5XfCUA4bcxgoGbO3+2wqB23h7xA7XxtCfJe9AafFaKVL05nD9gjPO7H0nSstS1ewV+AlqxgMV1TkGD7zwyZ7b2UiBpz6SOYv8VV785Q90cO6guZU3q1VdD2ZbCsy/C84OPcbPEKFBWZsb35hbEY2PLv5kGbEsTPLBGgywb6M7NcdqRVQHnwZ4nTdWcmP4ijjOHJkASeCCWCoigJ/xt4YDSpbzyuTtQJ7lxMk5biSeGXH1tphCTqB/6tHAS4K7qbaRM1/pQmSk8od5LiSFoEaHBVXwuVCrXuXZqmpoCK3nYtBU9T2beQrBaTZpXUU72Ik3rkkn7zD9OZpIqE1QBQS+z242UUYGKU3RDnSCxmo0G/icsd7nml7xKSNMYYJbJ2Pyod7/Bu2EZuQ5/4Ri0wEZm/PBhfLXNqAEMAg4O+ff+eacFuISpzwKMU3HPKbzEQtIrwb3FQpedjcPO/ftL8uDDWM1ocVZuhtGgFhbHrc7Y4JkfrNBlvagRSzPVmKidPc7TOw==\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEArBmKFDKsfPECK+ReKQ+V\nabHPWmMDby1v3aYpkHJxn310fi91jIcS8gVyJ7IWqVZ0l+xhV1aiuORlX+0Kt1E+\nNIB/UNjqrtV8siWWEPPCgrJFEQ065B+EMcqD8V9lNJCXpekRIDs5neNSVccDx784\nhx/zGgQlND9GML70kSBeV3wlAOG3MYKBmzt/tsKgdt4e8QO18bQnyXvQGnxWilS9\nOZw/YIzzux9J0rLUtXsFfgJasYDFdU5Bg+88Mme29lIgac+kjmL/FVe/OUPdHDuo\nLmVN6tVXQ9mWwrMvwvODj3GzxChQVmbG9+YWxGNjy7+ZBmxLEzywRoMsG+jOzXHa\nkVUB58GeJ03VnJj+Io4zhyZAEngglgqIoCf8beGA0qW88rk7UCe5cTJOW4knhlx9\nbaYQk6gf+rRwEuCu6m2kTNf6UJkpPKHeS4khaBGhwVV8LlQq17l2apqaAit52LQV\nPU9m3kKwWk2aV1FO9iJN65JJ+8w/TmaSKhNUAUEvs9uNlFGBilN0Q50gsZqNBv4n\nLHe55pe8SkjTGGCWydj8qHe/wbthGbkOf+EYtMBGZvzwYXy1zagBDAIODvn3/nmn\nBbiEqc8CjFNxzym8xELSK8G9xUKXnY3Dzv37S/Lgw1jNaHFWbobRoBYWx63O2OCZ\nH6zQZb2oEUsz1ZionT3O0zsCAwEAAQ==\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 4096
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "lambda_assume",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2982579097",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"beest-stac-16209-otel-cu-otel-lambda-role\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": "beest-stac-16209-otel-cu-otel-lambda-role",
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "lambda.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "lambda_to_sns",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3395272715",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"SNS:Publish\",\n      \"Resource\": \"arn:aws:sns:*:*:*\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "SNS:Publish"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:sns:*:*:*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_api_gateway_deployment",
      "name": "deployment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_date": "2022-07-11T11:33:15Z",
            "description": "",
            "execution_arn": "arn:aws:execute-api:eu-west-1:672574731473:xh2s3nmzl3/",
            "id": "xlkd6f",
            "invoke_url": "https://xh2s3nmzl3.execute-api.eu-west-1.amazonaws.com/",
            "rest_api_id": "xh2s3nmzl3",
            "stage_description": null,
            "stage_name": null,
            "triggers": {
              "redeployment": "b4fca90bac33ff68ca0513b0dad4891b7657f7b5"
            },
            "variables": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.aws_api_gateway_integration.integration",
            "module.lambda_otel.aws_api_gateway_method.method",
            "module.lambda_otel.aws_api_gateway_resource.resource",
            "module.lambda_otel.aws_api_gateway_rest_api.api",
            "module.lambda_otel.aws_iam_role.iam_for_lambda",
            "module.lambda_otel.aws_lambda_function.lambda",
            "module.lambda_otel.aws_s3_bucket.bucket",
            "module.lambda_otel.aws_s3_object.code_zip",
            "module.lambda_otel.aws_sns_topic.lambda_errors",
            "module.lambda_otel.data.aws_iam_policy_document.lambda_assume"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_api_gateway_integration",
      "name": "integration",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "rc3p0z",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "",
            "http_method": "GET",
            "id": "agi-xh2s3nmzl3-rc3p0z-GET",
            "integration_http_method": "POST",
            "passthrough_behavior": "WHEN_NO_MATCH",
            "request_parameters": null,
            "request_templates": null,
            "resource_id": "rc3p0z",
            "rest_api_id": "xh2s3nmzl3",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "AWS_PROXY",
            "uri": "arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-1:672574731473:function:beest-stac-16209-otel-cu-otel-hello/invocations"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.aws_api_gateway_method.method",
            "module.lambda_otel.aws_api_gateway_resource.resource",
            "module.lambda_otel.aws_api_gateway_rest_api.api",
            "module.lambda_otel.aws_iam_role.iam_for_lambda",
            "module.lambda_otel.aws_lambda_function.lambda",
            "module.lambda_otel.aws_s3_bucket.bucket",
            "module.lambda_otel.aws_s3_object.code_zip",
            "module.lambda_otel.aws_sns_topic.lambda_errors",
            "module.lambda_otel.data.aws_iam_policy_document.lambda_assume"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_api_gateway_method",
      "name": "method",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "GET",
            "id": "agm-xh2s3nmzl3-rc3p0z-GET",
            "operation_name": null,
            "request_models": null,
            "request_parameters": null,
            "request_validator_id": null,
            "resource_id": "rc3p0z",
            "rest_api_id": "xh2s3nmzl3"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.aws_api_gateway_resource.resource",
            "module.lambda_otel.aws_api_gateway_rest_api.api"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_api_gateway_resource",
      "name": "resource",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "rc3p0z",
            "parent_id": "t30sp2thvc",
            "path": "/{proxy+}",
            "path_part": "{proxy+}",
            "rest_api_id": "xh2s3nmzl3"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.aws_api_gateway_rest_api.api"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_api_gateway_rest_api",
      "name": "api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_key_source": "HEADER",
            "arn": "arn:aws:apigateway:eu-west-1::/restapis/xh2s3nmzl3",
            "binary_media_types": [],
            "body": null,
            "created_date": "2022-07-11T11:32:54Z",
            "description": "",
            "disable_execute_api_endpoint": false,
            "endpoint_configuration": [
              {
                "types": [
                  "EDGE"
                ],
                "vpc_endpoint_ids": []
              }
            ],
            "execution_arn": "arn:aws:execute-api:eu-west-1:672574731473:xh2s3nmzl3",
            "id": "xh2s3nmzl3",
            "minimum_compression_size": -1,
            "name": "beest-stac-16209-otel-cu-otel-rest-api",
            "parameters": null,
            "policy": "",
            "root_resource_id": "t30sp2thvc",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_api_gateway_stage",
      "name": "test",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_log_settings": [],
            "arn": "arn:aws:apigateway:eu-west-1::/restapis/xh2s3nmzl3/stages/beest-stac-16209-otel-cu-otel-test",
            "cache_cluster_enabled": false,
            "cache_cluster_size": "",
            "canary_settings": [],
            "client_certificate_id": "",
            "deployment_id": "xlkd6f",
            "description": "",
            "documentation_version": "",
            "execution_arn": "arn:aws:execute-api:eu-west-1:672574731473:xh2s3nmzl3/beest-stac-16209-otel-cu-otel-test",
            "id": "ags-xh2s3nmzl3-beest-stac-16209-otel-cu-otel-test",
            "invoke_url": "https://xh2s3nmzl3.execute-api.eu-west-1.amazonaws.com/beest-stac-16209-otel-cu-otel-test",
            "rest_api_id": "xh2s3nmzl3",
            "stage_name": "beest-stac-16209-otel-cu-otel-test",
            "tags": null,
            "tags_all": {},
            "variables": null,
            "web_acl_arn": "",
            "xray_tracing_enabled": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.aws_api_gateway_deployment.deployment",
            "module.lambda_otel.aws_api_gateway_integration.integration",
            "module.lambda_otel.aws_api_gateway_method.method",
            "module.lambda_otel.aws_api_gateway_resource.resource",
            "module.lambda_otel.aws_api_gateway_rest_api.api",
            "module.lambda_otel.aws_iam_role.iam_for_lambda",
            "module.lambda_otel.aws_lambda_function.lambda",
            "module.lambda_otel.aws_s3_bucket.bucket",
            "module.lambda_otel.aws_s3_object.code_zip",
            "module.lambda_otel.aws_sns_topic.lambda_errors",
            "module.lambda_otel.data.aws_iam_policy_document.lambda_assume"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "lambda_to_sns",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::672574731473:policy/beest-stac-16209-otel-cu-otel-lambda-sns",
            "description": "",
            "id": "arn:aws:iam::672574731473:policy/beest-stac-16209-otel-cu-otel-lambda-sns",
            "name": "beest-stac-16209-otel-cu-otel-lambda-sns",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":\"SNS:Publish\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sns:*:*:*\",\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAZZGET6TIV5BC47IK7",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.data.aws_iam_policy_document.lambda_to_sns"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_iam_policy_attachment",
      "name": "logs_sns_policy_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "groups": null,
            "id": "beest-stac-16209-otel-cu-otel-lambda-sns",
            "name": "beest-stac-16209-otel-cu-otel-lambda-sns",
            "policy_arn": "arn:aws:iam::672574731473:policy/beest-stac-16209-otel-cu-otel-lambda-sns",
            "roles": [
              "beest-stac-16209-otel-cu-otel-iam-lambda"
            ],
            "users": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.aws_iam_policy.lambda_to_sns",
            "module.lambda_otel.aws_iam_role.iam_for_lambda",
            "module.lambda_otel.data.aws_iam_policy_document.lambda_assume",
            "module.lambda_otel.data.aws_iam_policy_document.lambda_to_sns"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "iam_for_lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::672574731473:role/beest-stac-16209-otel-cu-otel-iam-lambda",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Id\":\"beest-stac-16209-otel-cu-otel-lambda-role\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-07-11T11:32:54Z",
            "description": "",
            "force_detach_policies": false,
            "id": "beest-stac-16209-otel-cu-otel-iam-lambda",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "beest-stac-16209-otel-cu-otel-iam-lambda",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAZZGET6TIQLICIKVV7"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.data.aws_iam_policy_document.lambda_assume"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:eu-west-1:672574731473:function:beest-stac-16209-otel-cu-otel-hello",
            "code_signing_config_arn": "",
            "dead_letter_config": [
              {
                "target_arn": "arn:aws:sns:eu-west-1:672574731473:beest-stac-16209-otel-cu-otel-errors"
              }
            ],
            "description": "",
            "environment": [],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": null,
            "function_name": "beest-stac-16209-otel-cu-otel-hello",
            "handler": "hello.handler",
            "id": "beest-stac-16209-otel-cu-otel-hello",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-1:672574731473:function:beest-stac-16209-otel-cu-otel-hello/invocations",
            "kms_key_arn": "",
            "last_modified": "2022-07-11T11:33:08.601+0000",
            "layers": null,
            "memory_size": 128,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:eu-west-1:672574731473:function:beest-stac-16209-otel-cu-otel-hello:$LATEST",
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::672574731473:role/beest-stac-16209-otel-cu-otel-iam-lambda",
            "runtime": "nodejs12.x",
            "s3_bucket": "beest-stac-16209-otel-cu-otel-lambda-code",
            "s3_key": "hello3.zip",
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "source_code_hash": "mikwRygPbPYs6HYuoc9HhpnP2SlLHXeG80KKMMEDnSw=",
            "source_code_size": 387,
            "tags": null,
            "tags_all": {},
            "timeout": 3,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.lambda_otel.aws_iam_role.iam_for_lambda",
            "module.lambda_otel.aws_s3_bucket.bucket",
            "module.lambda_otel.aws_s3_object.code_zip",
            "module.lambda_otel.aws_sns_topic.lambda_errors",
            "module.lambda_otel.data.aws_iam_policy_document.lambda_assume"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "permission",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": null,
            "function_name": "beest-stac-16209-otel-cu-otel-hello",
            "id": "AllowAPIGatewayInvoke",
            "principal": "apigateway.amazonaws.com",
            "principal_org_id": null,
            "qualifier": "",
            "source_account": null,
            "source_arn": "arn:aws:execute-api:eu-west-1:672574731473:xh2s3nmzl3/*/*/*",
            "statement_id": "AllowAPIGatewayInvoke",
            "statement_id_prefix": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.aws_api_gateway_rest_api.api",
            "module.lambda_otel.aws_iam_role.iam_for_lambda",
            "module.lambda_otel.aws_lambda_function.lambda",
            "module.lambda_otel.aws_s3_bucket.bucket",
            "module.lambda_otel.aws_s3_object.code_zip",
            "module.lambda_otel.aws_sns_topic.lambda_errors",
            "module.lambda_otel.data.aws_iam_policy_document.lambda_assume"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "bucket",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::beest-stac-16209-otel-cu-otel-lambda-code",
            "bucket": "beest-stac-16209-otel-cu-otel-lambda-code",
            "bucket_domain_name": "beest-stac-16209-otel-cu-otel-lambda-code.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "beest-stac-16209-otel-cu-otel-lambda-code.s3.eu-west-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [
              {
                "id": "de02258c94039280ca8e94ab0b3131015e09e993dea9863024dda607d4a60ca0",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z1BKCTXD74EZPE",
            "id": "beest-stac-16209-otel-cu-otel-lambda-code",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "eu-west-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [],
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "VantaContainsUserData": "false",
              "VantaDescription": "OpenTelemetry Integration resources used in acceptance pipeline",
              "VantaNonProd": "true",
              "VantaOwner": "beest@stackstate.com",
              "VantaUserDataStored": "NA"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "VantaContainsUserData": "false",
              "VantaDescription": "OpenTelemetry Integration resources used in acceptance pipeline",
              "VantaNonProd": "true",
              "VantaOwner": "beest@stackstate.com",
              "VantaUserDataStored": "NA"
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_s3_bucket_acl",
      "name": "bucket_acl",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_control_policy": [
              {
                "grant": [
                  {
                    "grantee": [
                      {
                        "display_name": "stackstate.aws+stackstate-sandbox",
                        "email_address": "",
                        "id": "de02258c94039280ca8e94ab0b3131015e09e993dea9863024dda607d4a60ca0",
                        "type": "CanonicalUser",
                        "uri": ""
                      }
                    ],
                    "permission": "FULL_CONTROL"
                  }
                ],
                "owner": [
                  {
                    "display_name": "stackstate.aws+stackstate-sandbox",
                    "id": "de02258c94039280ca8e94ab0b3131015e09e993dea9863024dda607d4a60ca0"
                  }
                ]
              }
            ],
            "acl": "private",
            "bucket": "beest-stac-16209-otel-cu-otel-lambda-code",
            "expected_bucket_owner": "",
            "id": "beest-stac-16209-otel-cu-otel-lambda-code,private"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.aws_s3_bucket.bucket"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_s3_object",
      "name": "code_zip",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "beest-stac-16209-otel-cu-otel-lambda-code",
            "bucket_key_enabled": false,
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "b0a872a0cc53ea93a7f0e5503a61c906",
            "force_destroy": false,
            "id": "hello3.zip",
            "key": "hello3.zip",
            "kms_key_id": null,
            "metadata": null,
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "",
            "source": "../../hives/lambda-otel/hello.zip",
            "source_hash": null,
            "storage_class": "STANDARD",
            "tags": null,
            "tags_all": {},
            "version_id": "",
            "website_redirect": ""
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_otel.aws_s3_bucket.bucket"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.lambda_otel",
      "mode": "managed",
      "type": "aws_sns_topic",
      "name": "lambda_errors",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "application_failure_feedback_role_arn": "",
            "application_success_feedback_role_arn": "",
            "application_success_feedback_sample_rate": 0,
            "arn": "arn:aws:sns:eu-west-1:672574731473:beest-stac-16209-otel-cu-otel-errors",
            "content_based_deduplication": false,
            "delivery_policy": "",
            "display_name": "",
            "fifo_topic": false,
            "firehose_failure_feedback_role_arn": "",
            "firehose_success_feedback_role_arn": "",
            "firehose_success_feedback_sample_rate": 0,
            "http_failure_feedback_role_arn": "",
            "http_success_feedback_role_arn": "",
            "http_success_feedback_sample_rate": 0,
            "id": "arn:aws:sns:eu-west-1:672574731473:beest-stac-16209-otel-cu-otel-errors",
            "kms_master_key_id": "",
            "lambda_failure_feedback_role_arn": "",
            "lambda_success_feedback_role_arn": "",
            "lambda_success_feedback_sample_rate": 0,
            "name": "beest-stac-16209-otel-cu-otel-errors",
            "name_prefix": "",
            "owner": "672574731473",
            "policy": "{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Resource\":\"arn:aws:sns:eu-west-1:672574731473:beest-stac-16209-otel-cu-otel-errors\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"672574731473\"}}}]}",
            "sqs_failure_feedback_role_arn": "",
            "sqs_success_feedback_role_arn": "",
            "sqs_success_feedback_sample_rate": 0,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "igw",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:internet-gateway/igw-096f75df28055eb41",
            "id": "igw-096f75df28055eb41",
            "owner_id": "672574731473",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-igw"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-igw"
            },
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "nat_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_id": "",
            "connectivity_type": "private",
            "id": "nat-0a8b18ec9eb693620",
            "network_interface_id": "eni-05b7ae4cada85ade6",
            "private_ip": "10.11.0.196",
            "public_ip": "",
            "subnet_id": "subnet-0ecddb258618a01a5",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-nat-gw-1"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-nat-gw-1"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_subnet.eks_public",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "nat_gateway_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_id": "",
            "connectivity_type": "private",
            "id": "nat-0132baee0514e36c4",
            "network_interface_id": "eni-0ca2cd77b872a66a1",
            "private_ip": "10.11.2.184",
            "public_ip": "",
            "subnet_id": "subnet-0d4ae49f787321333",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-nat-gw-2"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-nat-gw-2"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_subnet.eks_public_2",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "eks_public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:route-table/rtb-0c59352da2ada60a0",
            "id": "rtb-0c59352da2ada60a0",
            "owner_id": "672574731473",
            "propagating_vgws": [],
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-096f75df28055eb41",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-public"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-public"
            },
            "timeouts": null,
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "eks_public_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:route-table/rtb-09f7aa0f60dbdbc14",
            "id": "rtb-09f7aa0f60dbdbc14",
            "owner_id": "672574731473",
            "propagating_vgws": [],
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-096f75df28055eb41",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-public-2"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-public-2"
            },
            "timeouts": null,
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:route-table/rtb-04ef8572058ab2934",
            "id": "rtb-04ef8572058ab2934",
            "owner_id": "672574731473",
            "propagating_vgws": [],
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-096f75df28055eb41",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-private-route-table"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-private-route-table"
            },
            "timeouts": null,
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private_route_table_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:route-table/rtb-0129e0b5f16c12d1c",
            "id": "rtb-0129e0b5f16c12d1c",
            "owner_id": "672574731473",
            "propagating_vgws": [],
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-096f75df28055eb41",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-private-route-table-2"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-private-route-table-2"
            },
            "timeouts": null,
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "eks-private-2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0d74ab3eefc9c45fa",
            "route_table_id": "rtb-0129e0b5f16c12d1c",
            "subnet_id": "subnet-007aab725cb3d3dc6"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_route_table.private_route_table_2",
            "module.vpc.aws_subnet.eks_private_2",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "eks_private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0b094b08e434450ab",
            "route_table_id": "rtb-04ef8572058ab2934",
            "subnet_id": "subnet-0ae2a4f542e40ae84"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_route_table.private_route_table",
            "module.vpc.aws_subnet.eks_private",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "eks_public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-04b70acbb2cdafdfc",
            "route_table_id": "rtb-0c59352da2ada60a0",
            "subnet_id": "subnet-0ecddb258618a01a5"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_route_table.eks_public",
            "module.vpc.aws_subnet.eks_public",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "eks_public_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0002a7f07468126f9",
            "route_table_id": "rtb-09f7aa0f60dbdbc14",
            "subnet_id": "subnet-0d4ae49f787321333"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_route_table.eks_public_2",
            "module.vpc.aws_subnet.eks_public_2",
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "eks_private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:subnet/subnet-0ae2a4f542e40ae84",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1a",
            "availability_zone_id": "euw1-az2",
            "cidr_block": "10.11.1.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0ae2a4f542e40ae84",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "672574731473",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-private",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-private",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "eks_private_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:subnet/subnet-007aab725cb3d3dc6",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1b",
            "availability_zone_id": "euw1-az3",
            "cidr_block": "10.11.3.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-007aab725cb3d3dc6",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "672574731473",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-private-2",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-private-2",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "eks_public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:subnet/subnet-0ecddb258618a01a5",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1a",
            "availability_zone_id": "euw1-az2",
            "cidr_block": "10.11.0.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0ecddb258618a01a5",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "672574731473",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-public",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-public",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "eks_public_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:subnet/subnet-0d4ae49f787321333",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1b",
            "availability_zone_id": "euw1-az3",
            "cidr_block": "10.11.2.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0d4ae49f787321333",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "672574731473",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-public-2",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-public-2",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-095cb080c3d70efa2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:672574731473:vpc/vpc-095cb080c3d70efa2",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.11.0.0/16",
            "default_network_acl_id": "acl-0ed29e4dee09d4bae",
            "default_route_table_id": "rtb-0abff50f8071d61b7",
            "default_security_group_id": "sg-00b6337bdd2cf1fff",
            "dhcp_options_id": "dopt-4a0d822c",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-095cb080c3d70efa2",
            "instance_tenancy": "default",
            "ipv4_ipam_pool_id": null,
            "ipv4_netmask_length": null,
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_network_border_group": "",
            "ipv6_ipam_pool_id": "",
            "ipv6_netmask_length": 0,
            "main_route_table_id": "rtb-0abff50f8071d61b7",
            "owner_id": "672574731473",
            "tags": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-vpc",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            },
            "tags_all": {
              "Environment": "beest-stac-16209-otel-cu-otel",
              "Name": "beest-stac-16209-otel-cu-otel-eks-vpc",
              "kubernetes.io/cluster/beest-stac-16209-otel-cu-otel-cluster": "shared"
            }
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    }
  ]
}
